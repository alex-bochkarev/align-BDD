mkdir -p /local_scratch/pbs.2624910.pbs02//instances
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs
rm -rf /local_scratch/pbs.2624910.pbs02//instances/orig_problem && \
			mkdir /local_scratch/pbs.2624910.pbs02//instances/orig_problem && \
			parallel -j 32 'python -m gen_BDD_pair -s $(( 101 * {#} - 101))' -K 101 -v 15 -p 0.6 -R -U /local_scratch/pbs.2624910.pbs02//instances/orig_problem/ --quiet ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			ls /local_scratch/pbs.2624910.pbs02//instances/orig_problem | grep -Po "A\\K[^\\.]*" > /local_scratch/pbs.2624910.pbs02//instances/orig_problem.list
mkdir -p /local_scratch/pbs.2624910.pbs02//instances/scal && \
			parallel -j 32 'python -m gen_BDD_pair -s $(( 100 * {#} - 100))' -K 100 -v {} -p 0.6 -R -U /local_scratch/pbs.2624910.pbs02//instances/scal/ --quiet ::: 23 22 10 20 5 12 25 15 14 17 24 16 8 6 7 18 11 19 9 13 21 && \
			ls /local_scratch/pbs.2624910.pbs02//instances/scal | grep -Po "A\\K[^\\.]*" > /local_scratch/pbs.2624910.pbs02//instances/scal/instances.list
python -m experiments.heu_sol_struct -k 500 -n 7 > /local_scratch/pbs.2624910.pbs02//run_logs/simpl_sol_struct.csv
parallel -j 32 python -m experiments.tUFLP_runtimes -K 100 -n {} --with-gsifts ">" /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.{} ::: 20 5 9 6 24 17 11 23 16 22 8 7 14 21 15 12 13 18 10 25 19 && \
			python -m experiments.tUFLP_runtimes -H > /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.*
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm && \
			python -m experiments.jUFL_hist_sizes -H > /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/jUFLP.csv && \
			parallel -j 32 python -m experiments.jUFL_hist_sizes -n 20 -K 32 -p 0.3 -P {} -l /local_scratch/pbs.2624910.pbs02//instances/jUFLP_inst.tmp.{} ">>" /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/jUFLP.csv.tmp.{} ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/jUFLP.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/jUFLP.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/jUFLP.csv.tmp.* && \
			cat /local_scratch/pbs.2624910.pbs02//instances/jUFLP_inst.tmp* > /local_scratch/pbs.2624910.pbs02//instances/jUFLP_instances.json && \
			rm /local_scratch/pbs.2624910.pbs02//instances/jUFLP_inst.tmp*
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm && \
			python -m experiments.tUFL_hist_sizes_control -H > /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_nat.csv && \
			parallel -j 32 python -m experiments.tUFL_hist_sizes_control -n 20 -K 32 -p 0.3 -P {} -l /local_scratch/pbs.2624910.pbs02//instances/tUFLP_nat_inst.tmp.{} ">>" /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_nat.csv.tmp.{} ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_nat.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_nat.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_nat.csv.tmp.* && \
			cat /local_scratch/pbs.2624910.pbs02//instances/tUFLP_nat_inst.tmp* > /local_scratch/pbs.2624910.pbs02//instances/tUFLP_nat_instances.json && \
			rm /local_scratch/pbs.2624910.pbs02//instances/tUFLP_nat_inst.tmp*
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm && \
			python -m experiments.tUFL_hist_sizes_control -H > /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_rnd.csv && \
			parallel -j 32 python -m experiments.tUFL_hist_sizes_control -R -n 20 -K 32 -p 0.3 -P {} -l /local_scratch/pbs.2624910.pbs02//instances/tUFLP_rnd_inst.tmp.{} ">>" /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_rnd.csv.tmp.{} ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_rnd.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_rnd.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/tUFLP_rnd.csv.tmp.* && \
			cat /local_scratch/pbs.2624910.pbs02//instances/tUFLP_rnd_inst.tmp* > /local_scratch/pbs.2624910.pbs02//instances/tUFLP_rnd_instances.json && \
			rm /local_scratch/pbs.2624910.pbs02//instances/tUFLP_rnd_inst.tmp*
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm && \
			rm -rf /local_scratch/pbs.2624910.pbs02//instances/bm_heu_inst && \
			mkdir -p /local_scratch/pbs.2624910.pbs02//instances/bm_heu_inst && \
			python -m experiments.rnd_dia_hist_sizes_control -H > /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/rnd_dia.csv && \
			parallel -j 32 python -m experiments.rnd_dia_hist_sizes_control -n 15 -K 32 -p 0.6 -P {} -l /local_scratch/pbs.2624910.pbs02//instances/bm_heu_inst ">>" /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/rnd_dia.csv.tmp.{} ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/rnd_dia.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/rnd_dia.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/heu_bm/rnd_dia.csv.tmp.* && \
			tar czf /local_scratch/pbs.2624910.pbs02//instances/bm_heu_random_diagrams.tar.gz -C /local_scratch/pbs.2624910.pbs02//instances/bm_heu_inst . --remove-files
mkdir -p /local_scratch/pbs.2624910.pbs02//instances/orig_stats && \
			parallel mkdir -p /local_scratch/pbs.2624910.pbs02//instances/orig_stats/{} ::: 0.2 0.5 0.8 && \
			parallel -j 32 python -m gen_BDD_pair -v 15 -K 11 -p 0.6 -R -U /local_scratch/pbs.2624910.pbs02//instances/orig_stats/{1} --quiet ::: 0.2 0.5 0.8 ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			parallel find /local_scratch/pbs.2624910.pbs02//instances/orig_stats/{}/*.bdd ">" /local_scratch/pbs.2624910.pbs02//instances/orig_stats/{}/inst.list ::: 0.2 0.5 0.8 && \
			python -m gen_lsizes_stats -H /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.log && \
			parallel python -m gen_lsizes_stats -s {} /local_scratch/pbs.2624910.pbs02//instances/orig_stats/{}/inst.list ">" /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.tmp.{} ::: 0.2 0.5 0.8 && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.log && rm /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.tmp.* && \
			tar czf /local_scratch/pbs.2624910.pbs02//instances/orig_stats.tar.gz -C /local_scratch/pbs.2624910.pbs02//instances/orig_stats . --remove-files
# instance,N,is_reduced,<comma-separated layer-widths>,<suffix>
Traceback (most recent call last):
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/abochka/BDD/align-BDD/gen_lsizes_stats.py", line 32, in <module>
    bdd.load(inst_name)
  File "/home/abochka/BDD/align-BDD/BDD.py", line 607, in load
    id, line = line.split(':')
ValueError: not enough values to unpack (expected 2, got 1)
Traceback (most recent call last):
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/abochka/BDD/align-BDD/gen_lsizes_stats.py", line 34, in <module>
    print(",".join([str(bdd_no), str(N), str(bdd.is_reduced())] + [str(bdd.n(i)) for i in range(N)]+[str(args.suffix)]))
  File "/home/abochka/BDD/align-BDD/BDD.py", line 848, in is_reduced
    if (n.hi.id, n.lo.id) in checked_nodes:
AttributeError: 'NoneType' object has no attribute 'id'
Traceback (most recent call last):
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/abochka/.conda/envs/ab-local/lib/python3.7/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/abochka/BDD/align-BDD/gen_lsizes_stats.py", line 32, in <module>
    bdd.load(inst_name)
  File "/home/abochka/BDD/align-BDD/BDD.py", line 607, in load
    id, line = line.split(':')
ValueError: not enough values to unpack (expected 2, got 1)
make: *** [Makefile:197: /local_scratch/pbs.2624910.pbs02//run_logs/lwidths.log] Error 3
make: *** Waiting for unfinished jobs....
make: *** [Makefile:145: /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv] Terminated
 
 
+------------------------------------------+ 
| PALMETTO CLUSTER PBS RESOURCES REQUESTED | 
+------------------------------------------+ 
 
mem=500gb,walltime=05:00:00,ncpus=32
 
 
+-------------------------------------+ 
| PALMETTO CLUSTER PBS RESOURCES USED | 
+-------------------------------------+ 
 
cput=09:31:07,mem=8531652kb,walltime=01:14:37,ncpus=32,cpupercent=760,vmem=8531652kb
 
 
mkdir -p /local_scratch/pbs.2624910.pbs02//instances
mkdir -p /local_scratch/pbs.2624910.pbs02//run_logs
rm -rf /local_scratch/pbs.2624910.pbs02//instances/orig_problem && \
			mkdir /local_scratch/pbs.2624910.pbs02//instances/orig_problem && \
			parallel -j 32 'python -m gen_BDD_pair -s $(( 101 * {#} - 101))' -K 101 -v 15 -p 0.6 -R -U /local_scratch/pbs.2624910.pbs02//instances/orig_problem/ --quiet ::: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 && \
			ls /local_scratch/pbs.2624910.pbs02//instances/orig_problem | grep -Po "A\\K[^\\.]*" > /local_scratch/pbs.2624910.pbs02//instances/orig_problem.list
mkdir -p /local_scratch/pbs.2624910.pbs02//instances/scal && \
			parallel -j 32 'python -m gen_BDD_pair -s $(( 100 * {#} - 100))' -K 100 -v {} -p 0.6 -R -U /local_scratch/pbs.2624910.pbs02//instances/scal/ --quiet ::: 24 5 14 21 23 9 10 13 11 18 15 7 17 20 19 6 12 16 25 8 22 && \
			ls /local_scratch/pbs.2624910.pbs02//instances/scal | grep -Po "A\\K[^\\.]*" > /local_scratch/pbs.2624910.pbs02//instances/scal/instances.list
python -m experiments.heu_sol_struct -k 500 -n 7 > /local_scratch/pbs.2624910.pbs02//run_logs/simpl_sol_struct.csv
parallel -j 32 python -m experiments.tUFLP_runtimes -K 100 -n {} --with-gsifts ">" /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.{} ::: 25 23 16 5 8 11 6 15 12 14 10 17 9 22 13 20 19 24 21 7 18 && \
			python -m experiments.tUFLP_runtimes -H > /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv && \
			cat /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.* >> /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv && rm /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv.tmp.*
make: *** Deleting file '/local_scratch/pbs.2624910.pbs02//run_logs/simpl_sol_struct.csv'
make: *** [Makefile:145: /local_scratch/pbs.2624910.pbs02//run_logs/tUFLP_runtimes_scal.csv] Terminated
make: *** [Makefile:138: /local_scratch/pbs.2624910.pbs02//run_logs/simpl_sol_struct.csv] Terminated
 
 
+------------------------------------------+ 
| PALMETTO CLUSTER PBS RESOURCES REQUESTED | 
+------------------------------------------+ 
 
mem=500gb,walltime=05:00:00,ncpus=32
 
 
+-------------------------------------+ 
| PALMETTO CLUSTER PBS RESOURCES USED | 
+-------------------------------------+ 
 
cput=02:16:05,mem=3062252kb,walltime=00:18:25,ncpus=32,cpupercent=736,vmem=3062252kb
 
 
